<div class="header-actions header-actions-left">
  <div class="header-clock" id="header-clock" aria-label="Orologio"></div>
</div>

<div class="header-actions header-actions-right">
  <div id="backend-status-indicator" class="backend-status backend-status-ok" title="Stato backend" aria-label="Stato backend">
    <svg class="backend-status-icon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
      <path d="M3 10.5c5.5-5.5 12.5-5.5 18 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <path d="M6.5 14c3.25-3.25 7.75-3.25 11 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <path d="M10 17.5c1.1-1.1 2.9-1.1 4 0" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
      <circle cx="12" cy="20" r="1.25" fill="currentColor" />
    </svg>
  </div>
  <div class="notif-area">
    <button class="notif-toggle" id="notifToggle" aria-expanded="false" aria-controls="notifPanel">
      <span class="notif-icon" aria-hidden="true">üîî</span>
      <span class="notif-badge" id="notifBadge">0</span>
    </button>
    <div class="notif-panel" id="notifPanel" role="region" aria-label="Notifiche">
      <div class="notif-header">
        <span>Notifiche</span>
      </div>
      <div class="notif-list" id="notifList"></div>
    </div>
  </div>

  <div class="settings-area">
    <button class="settings-toggle" id="settingsToggle" aria-expanded="false" aria-controls="settingsPanel">
      <span class="settings-icon" aria-hidden="true">‚öôÔ∏è</span>
    </button>
    <div class="settings-panel" id="settingsPanel" role="region" aria-label="Impostazioni">
      <div class="settings-header">
        <span>Impostazioni</span>
      </div>
      <div class="settings-body">
        <div class="settings-row">
          <span>OS installato</span>
          <strong>{{ system_info.os }}</strong>
        </div>
        <div class="settings-row">
          <span>Versione Docker</span>
          <strong>{{ system_info.docker_version }}</strong>
        </div>
        <div class="settings-row">
          <span>Uptime</span>
          <strong>{{ system_info.uptime }}</strong>
        </div>
        <div class="settings-row">
          <div>
            <span>Sicurezza</span>
            <p class="settings-hint">Gestisci autenticazione e modalit√† sicura.</p>
          </div>
          <a class="settings-link" href="{{ url_for('security_settings') }}">Apri</a>
        </div>
        <div class="settings-row settings-row-toggle">
          <div>
            <span>Modalit√† prestazioni</span>
            <p class="settings-hint">Riduci carico e polling automatico.</p>
          </div>
          <div class="switch" title="Riduce il carico iniziale e le frequenze di refresh">
            <input type="checkbox" id="performance-mode-toggle" />
            <span class="slider"></span>
          </div>
        </div>
        <div class="settings-safe">
          <div>
            <div class="settings-row">
              <span>Modalit√† sicura</span>
              <div class="switch" title="Richiedi conferma per le operazioni sensibili">
                <input type="checkbox" id="safeModeToggle" {% if safe_mode_enabled %}checked{% endif %} />
                <span class="slider"></span>
              </div>
            </div>
            <p class="settings-hint">Richiedi conferma o blocca le modifiche critiche.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="backend-status-modal" class="backend-modal-backdrop" role="dialog" aria-modal="true" aria-labelledby="backend-status-title">
  <div class="backend-modal" role="document">
    <h2 id="backend-status-title">Stato aggiornamento dati</h2>
    <p id="backend-status-last-update" class="backend-modal-text">Nessun aggiornamento riuscito di recente</p>
    <div class="backend-modal-actions">
      <button type="button" id="backend-status-refresh-btn" class="backend-modal-btn primary">Aggiorna ora</button>
      <button type="button" id="backend-status-close-btn" class="backend-modal-btn">Chiudi</button>
    </div>
  </div>
</div>
